// ===============================================================
// 50 JAVASCRIPT INTERVIEW QUESTIONS (WITH ANSWERS + OUTPUT)
// ===============================================================
// Everything from async, promises, event loop, array methods,
// object utilities â€” EXACTLY what interviewers ask.
// ===============================================================


// ---------------------------------------------------------------
// 1. setTimeout ordering
// ---------------------------------------------------------------
console.log("Q1");
setTimeout(() => console.log("A"), 0);
console.log("B");
// Output:
// Q1
// B
// A



// ---------------------------------------------------------------
// 2. Promise microtask vs timeout macrotask
// ---------------------------------------------------------------
setTimeout(() => console.log("T"), 0);
Promise.resolve().then(() => console.log("P"));
// Output:
// P
// T



// ---------------------------------------------------------------
// 3. Promise inside Promise
// ---------------------------------------------------------------
Promise.resolve().then(() => {
  console.log("X");
  return Promise.resolve();
}).then(() => console.log("Y"));
// Output:
// X
// Y



// ---------------------------------------------------------------
// 4. forEach vs map return
// ---------------------------------------------------------------
const m1 = [1,2,3].forEach(n => n * 2);
const m2 = [1,2,3].map(n => n * 2);
console.log(m1, m2);
// Output:
// undefined [2,4,6]



// ---------------------------------------------------------------
// 5. filter basics
// ---------------------------------------------------------------
console.log([1,2,3,4].filter(n => n > 2));
// Output: [3,4]



// ---------------------------------------------------------------
// 6. find basics
// ---------------------------------------------------------------
console.log([5,6,7].find(n => n === 6));
// Output: 6



// ---------------------------------------------------------------
// 7. some basics
// ---------------------------------------------------------------
console.log([1,3,5].some(n => n % 2 === 0));
// Output: false



// ---------------------------------------------------------------
// 8. every basics
// ---------------------------------------------------------------
console.log([2,4,6].every(n => n % 2 === 0));
// Output: true



// ---------------------------------------------------------------
// 9. reduce sum
// ---------------------------------------------------------------
console.log([1,2,3].reduce((a,b) => a+b, 0));
// Output: 6



// ---------------------------------------------------------------
// 10. reduce max value
// ---------------------------------------------------------------
console.log([4,1,9,2].reduce((a,b)=> a>b?a:b));
// Output: 9



// ---------------------------------------------------------------
// 11. sort default behavior (string sort)
// ---------------------------------------------------------------
console.log([10,2,5].sort());
// Output: [10,2,5] (string comparison)



// ---------------------------------------------------------------
// 12. numeric sort
// ---------------------------------------------------------------
console.log([10,2,5].sort((a,b)=> a-b));
// Output: [2,5,10]



// ---------------------------------------------------------------
// 13. flat()
console.log([1,[2,[3]]].flat(2));
// Output: [1,2,3]



// ---------------------------------------------------------------
// 14. flatMap()
console.log([1,2,3].flatMap(x => [x, x*2]));
// Output: [1,2,2,4,3,6]



// ---------------------------------------------------------------
// 15. Object.keys
// ---------------------------------------------------------------
console.log(Object.keys({a:1,b:2}));
// Output: ['a','b']



// ---------------------------------------------------------------
// 16. Object.values
// ---------------------------------------------------------------
console.log(Object.values({a:1,b:2}));
// Output: [1,2]



// ---------------------------------------------------------------
// 17. Object.entries
// ---------------------------------------------------------------
console.log(Object.entries({x:10,y:20}));
// Output: [['x',10],['y',20]]



// ---------------------------------------------------------------
// 18. Spread cloning
// ---------------------------------------------------------------
const u1 = { name:"Raj" };
const u2 = { ...u1 };
console.log(u1 === u2);
// Output: false (different objects)



// ---------------------------------------------------------------
// 19. Rest operator
// ---------------------------------------------------------------
const obj = {a:1,b:2,c:3};
const {a,...rest} = obj;
console.log(a, rest);
// Output: 1 {b:2,c:3}



// ---------------------------------------------------------------
// 20. Deep clone (structuredClone)
const deep = structuredClone({a:1, b:{c:2}});
deep.b.c = 5;
console.log(deep);
// Output: {a:1, b:{c:5}}



// ---------------------------------------------------------------
// 21. forEach does NOT stop early
// ---------------------------------------------------------------
[1,2,3].forEach(n => {
  console.log(n);
  // return stops only callback, not loop
});
// Output: 1 2 3



// ---------------------------------------------------------------
// 22. find stops early
// ---------------------------------------------------------------
console.log([1,2,3].find(n => n > 1));
// Output: 2



// ---------------------------------------------------------------
// 23. map always returns same length
// ---------------------------------------------------------------
console.log([1,2,3].map(n => (n>1 ? n : null)));
// Output: [null,2,3]



// ---------------------------------------------------------------
// 24. Promise resolve timing
// ---------------------------------------------------------------
console.log("A");
Promise.resolve().then(() => console.log("B"));
console.log("C");
// Output:
// A
// C
// B



// ---------------------------------------------------------------
// 25. async return value
// ---------------------------------------------------------------
async function f() { return 10; }
console.log(f());
// Output: Promise { 10 }



// ---------------------------------------------------------------
// 26. await unwraps Promise
// ---------------------------------------------------------------
async function f2() {
  const x = await Promise.resolve(5);
  console.log(x);
}
f2();
// Output: 5



// ---------------------------------------------------------------
// 27. try/catch async
// ---------------------------------------------------------------
async function f3() {
  try {
    throw new Error("X");
  } catch(e) {
    console.log("Caught:", e.message);
  }
}
f3();
// Output: Caught: X



// ---------------------------------------------------------------
// 28. setInterval stop after 3 runs
// ---------------------------------------------------------------
let c = 0;
const iid = setInterval(()=>{
  console.log("Tick");
  c++;
  if(c===3) clearInterval(iid);
},500);
// Output: Tick Tick Tick



// ---------------------------------------------------------------
// 29. callback order
// ---------------------------------------------------------------
function cbExample(cb){
  console.log("Start");
  setTimeout(()=>{ console.log("Async"); cb(); },500);
}
cbExample(()=>console.log("End"));
// Output:
// Start
// Async
// End



// ---------------------------------------------------------------
// 30. async/await pause inside function only
// ---------------------------------------------------------------
async function t1(){
  console.log(1);
  await wait(500);
  console.log(2);
}
t1();
console.log(3);
// Output:
// 1
// 3
// 2



// ---------------------------------------------------------------
function wait(ms){ return new Promise(res=>setTimeout(res,ms)); }
// ---------------------------------------------------------------



// ---------------------------------------------------------------
// 31. chaining map+filter
// ---------------------------------------------------------------
console.log([1,2,3,4].map(n=>n*2).filter(n=>n>4));
// Output: [6,8]



// ---------------------------------------------------------------
// 32. reduce counting occurrences
// ---------------------------------------------------------------
const occ = ["a","b","a"].reduce((acc,ch)=>{
  acc[ch]=(acc[ch]||0)+1;
  return acc;
},{});
console.log(occ);
// Output: {a:2,b:1}



// ---------------------------------------------------------------
// 33. object spread override
// ---------------------------------------------------------------
console.log({...{a:1,b:2}, b:5});
// Output: {a:1,b:5}



// ---------------------------------------------------------------
// 34. destructuring rename
// ---------------------------------------------------------------
const {b:renamed} = {a:1,b:2};
console.log(renamed);
// Output: 2



// ---------------------------------------------------------------
// 35. flat nested
// ---------------------------------------------------------------
console.log([1,[2,[3,[4]]]].flat(3));
// Output: [1,2,3,4]



// ---------------------------------------------------------------
// 36. some to check empty
// ---------------------------------------------------------------
console.log([].some(n=>n>0));
// Output: false



// ---------------------------------------------------------------
// 37. every empty array
// ---------------------------------------------------------------
console.log([].every(n=>n>0));
// Output: true (vacuous truth)



// ---------------------------------------------------------------
// 38. Map of objects (immutable pattern)
// ---------------------------------------------------------------
const users = [{id:1},{id:2}];
const updated = users.map(u => u.id===1 ? {...u, active:true} : u);
console.log(updated);
// Output: [{id:1, active:true},{id:2}]



// ---------------------------------------------------------------
// 39. findIndex
// ---------------------------------------------------------------
console.log([10,20,30].findIndex(n=>n===20));
// Output: 1



// ---------------------------------------------------------------
// 40. fill
// ---------------------------------------------------------------
console.log(new Array(3).fill(1));
// Output: [1,1,1]



// ---------------------------------------------------------------
// 41. slice()
console.log([1,2,3,4].slice(1,3));
// Output: [2,3]



// ---------------------------------------------------------------
// 42. splice() mutation
// ---------------------------------------------------------------
const arrX = [1,2,3];
arrX.splice(1,1);
console.log(arrX);
// Output: [1,3]



// ---------------------------------------------------------------
// 43. merging arrays
// ---------------------------------------------------------------
console.log([1,2,...[3,4]]);
// Output: [1,2,3,4]



// ---------------------------------------------------------------
// 44. optional chaining
// ---------------------------------------------------------------
console.log(({a:{b:10}}).a?.b);
// Output: 10



// ---------------------------------------------------------------
// 45. nullish coalescing
// ---------------------------------------------------------------
console.log(null ?? "fallback");
// Output: "fallback"



// ---------------------------------------------------------------
// 46. spreading string
// ---------------------------------------------------------------
console.log([..."Raj"]);
// Output: ['R','a','j']



// ---------------------------------------------------------------
// 47. Array.from()
console.log(Array.from("123", n=>Number(n)));
// Output: [1,2,3]



// ---------------------------------------------------------------
// 48. removing duplicates (Set)
console.log([...new Set([1,1,2,3])]);
// Output: [1,2,3]



// ---------------------------------------------------------------
// 49. group by using reduce
// ---------------------------------------------------------------
const pets = [
  {type:"dog",name:"A"},
  {type:"cat",name:"B"},
  {type:"dog",name:"C"}
];
const grouped = pets.reduce((acc,p)=>{
  acc[p.type] = acc[p.type] || [];
  acc[p.type].push(p.name);
  return acc;
},{});
console.log(grouped);
// Output: {dog:["A","C"], cat:["B"]}



// ---------------------------------------------------------------
// 50. promise error skipping then
// ---------------------------------------------------------------
Promise.reject("bad")
.then(()=>console.log("then"))
.catch(e=>console.log("caught",e))
.then(()=>console.log("after catch"));
// Output:
// caught bad
// after catch

